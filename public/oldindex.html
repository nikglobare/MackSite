<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="data:;base64,=">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Website</title>
    <link rel="stylesheet" href="styles.css"> <!-- Link to the CSS file -->
</head>
<body>
    <h1>Welcome to My Website</h1>
    <div id="background-container">
        <img src="images/floorLayout.svg" alt="Background Photo" class="background-photo">
        <div id="group-1" class="group-container group-1"></div>
    </div>
    <div id="data-container"></div>
    <script>
        async function fetchData() {
            const response = await fetch('http://localhost:3000/api/ranked-data');
            const data = await response.json();
            const backgroundContainer = document.getElementById('background-container');
            const groups = {};

            // Set background photo
            //const backgroundImageElement = document.createElement('img');
            //backgroundImageElement.src = 'images/floorLayout.svg';  // Path to your background image
            //backgroundImageElement.alt = 'Background Photo';
            //backgroundImageElement.classList.add('background-photo');
            //backgroundContainer.appendChild(backgroundImageElement);

            data.forEach(row => {
                if (!groups[row.GroupNumber]) {
                    groups[row.GroupNumber] = [];
                }
                groups[row.GroupNumber].push(row);
            });

            for (const groupNumber in groups) {
                const groupContainer = document.createElement('div');
                groupContainer.classList.add('group-container', `group-${groupNumber}`);
                const groupTitle = document.createElement('h2');
                //groupTitle.textContent = `Group ${groupNumber}`;
                groupContainer.appendChild(groupTitle);

                groups[groupNumber].forEach(row => {
                    const rowElement = document.createElement('div');
                    rowElement.classList.add('row');

                    const textImageContainer = document.createElement('div');
                    textImageContainer.classList.add('text-image-container');

                    const textElement = document.createElement('div');
                    textElement.classList.add('text-element');
                    textElement.textContent = `Rank: ${row.Rank}, DateTime: ${row.DateTime}`;

                    const imageElement = document.createElement('img');
                    imageElement.src = `images/${row.Photo}`;
                    imageElement.alt = `Photo for Rank ${row.Rank}`;
                    imageElement.classList.add('data-photo');  // Class for data photos

                    textImageContainer.appendChild(textElement);
                    textImageContainer.appendChild(imageElement);
                    rowElement.appendChild(textImageContainer);
                    groupContainer.appendChild(rowElement);
                });

                backgroundContainer.appendChild(groupContainer);
            }

            // Adjust background-container height to match background-photo height
            const backgroundPhoto = document.querySelector('.background-photo');
            backgroundContainer.style.height = `${backgroundPhoto.clientHeight}px`;

            window.addEventListener('resize', () => {
                backgroundContainer.style.height = `${backgroundPhoto.clientHeight}px`;
            });

            window.addEventListener('resize', () => {
                const backgroundContainer = document.getElementById('background-container');
                const group1 = document.querySelector('.group-1');
                const containerHeight = backgroundContainer.offsetHeight;
                const bottomPosition = containerHeight * 0.3; // 5% from the bottom + 20px margin
                group1.style.bottom = `${bottomPosition}px`;
            });

            // Initial adjustment
            window.dispatchEvent(new Event('resize'));


        }

        fetchData();
    </script>
</body>
</html>



///////////////////////


<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="data:;base64,=">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Website</title>
    <link rel="stylesheet" href="styles.css">  </head>
<body>
    <h1>DACM Site</h1>
    <div id="background-container">
        <img src="images/floorLayout.svg" alt="Background Photo" class="background-photo">
    </div>
    <div id="data-container"></div>
    <script src="script.js"></script>
</body>
</html>